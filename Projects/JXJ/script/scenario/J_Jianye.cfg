# Creature3D Script Parser v1.0

Data {
    Class "JXJBattleRoom"
	IncludeData "JXJ/script/scenario/battle.cfg"
	Param "20228,J_Jianye_npc.crb"
	Handle {
		MsgParam "WCH_GameStart"//client
		MsgParam "NULL"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Method {//显示对话
					Class "JXJScenarioTalk"
					Param "152000"//talkid  对应的表“scenariotalk.tab”
					Param "5"//endmsg
					Param "UI_CopyBattle_Juqing"//窗口名
					Param "Juqing_Input"//超文本输入框名
					Param "Juqing_Touxiang"//图片控件名
					Param "Juqing_Name"//人物名称控件名
					Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+20820"//WCH_JXJEndTalk
		MsgParam "5"//endmsg
		Driver {
			Class "MoreSlot"
			Method {//提示
				Class "JXJScenarioTalk"
				Param "152001"//talkid
				Param "0"//endmsg
				Param "UI_CopyBattle_JuqingShow"//窗口名
				Param "JuqingShow_Input"//超文本输入框名
				Param ""//图片控件名
				Param ""//人物名称控件名
				Param "3"//N秒后关闭该窗口（填0表示不自动关闭）
			}
			Method {//小地图显示
				Class "JXJPlayMiniMapSignal"
				Param "UI_CopyBattle_MinMap"
				Param "UI_CopyBattle_Minimap"
				Param "UI_CopyBattle_Juqing_Di"//敌方
				Param "RotMap"
				Param "-6037|18173|-4186|19469|-6008|16989|-3060|19038"	//辟邪
				Param "6"
			}
		}
    }
    Handle {
		MsgParam "WCH_USER+258"//WCH_RoomUpdate2
		MsgParam "NULL"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJBattleRoomAheadClose"
				}
				Method {
					Class "SetRemainTime"
					Param "0"
				}
				Logic {
					Class "Switch"
					Method {
						Class "GetRoomProgress"
					}
					Logic {//case 0
						Class "IF_ELSE"
						Method {
							Class "JXJIsNpcChengchi"
						}
						Method {
							Class "NextRoomProgress"
						}
						Logic {
							Class "ProxyArray"
							Method {
								Class "JXJReliveItemsFromTab"
								Param "90"//加载玩家城NPC
							}
							Method {
								Class "RoomSetRoomProgress"  //服务器跳转到进度**
								Param "13"
							}
						}
					}
					Logic {//case 1	初始对话
						Class "ProxyArray"
						Method {//加载NPC
							Class "JXJReliveItemsFromTab"
							Param "0"
						}
						Method {
							Class "JXJServerAddScenarioTimer"	//服务器计时
							Param "101"//m_msg标识
							Param "20"//时间
							Param "3"
							Param "-1"
						}
						xMethod {
							Class "ScenarioEvent"    //触发客户端事件
							Param "1"
						}
						Method {
							Class "JXJServerAddScenarioTimer"	//服务器计时
							Param "1"//m_msg标识
							Param "4"//时间
						}
						Method {
							Class "JXJServerAddScenarioTimer"	//服务器计时
							Param "2"//m_msg标识
							Param "6"//时间
						}
						Method {
							Class "NextRoomProgress"
						}
					}
					Logic {//case 2	没有事件
						Class "Proxy"
						Method {
							Class "Null"
						}
					}
					Logic {//case 3	战场胜利
						Class "ProxyArray"
						Method {
							Class "SetRemainTime"
							Param "0"
						}
					}
					Logic {//case 4	J、K、L点BOSS死亡触发事件
						Class "ProxyArray"
						Logic {//判定C点BOSS是否存活
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsLivedFromTab"
								Param "20"	//tableid
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {
									Class "JXJChangeItemPatrolPointVecFormScene"	//过E点向Q点移动
									Param "23"//tableid
									Param "-10080|-7066|-4920|18575"//E点、Q点坐标
								}
							}
						}
						Logic {//判定F点BOSS是否存活
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsLivedFromTab"
								Param "21"	//tableid
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {
									Class "JXJChangeItemPatrolPointVecFormScene"	//过E点向Q点移动
									Param "24"//tableid
									Param "-10080|-7066|-4920|18575"//E点、Q点坐标
								}
							}
						}
						Logic {//判定H点BOSS是否存活
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsLivedFromTab"
								Param "22"	//tableid
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {
									Class "JXJChangeItemPatrolPointVecFormScene"	//过G点向Q点移动
									Param "25"//tableid
									Param "17597|-5738|-4920|18575"//E点、G点坐标
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 5	左上角辟邪被击破
						Class "ProxyArray"
						Logic {//判定C点BOSS是否存活
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsLivedFromTab"
								Param "20"	//tableid
								Param "1"
							}
							Method {
								Class "Null"
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJCheckItemsLivedFromTab"
									Param "40"	//tableid
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {//加载C点NPC
										Class "JXJReliveItemsFromTab"
										Param "23"
									}
									Method {
										Class "JXJChangeItemPatrolPointVecFormScene"	//向Q点移动
										Param "23"//tableid
										Param "-4920|18575"//Q点坐标
									}
								}
							}
						}
						Logic {//判定F点BOSS是否存活
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsLivedFromTab"
								Param "21"	//tableid
								Param "1"
							}
							Method {
								Class "Null"
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJCheckItemsLivedFromTab"
									Param "41"	//tableid
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {//加载F点NPC
										Class "JXJReliveItemsFromTab"
										Param "24"
									}
									Method {
										Class "JXJChangeItemPatrolPointVecFormScene"	//向Q点移动
										Param "24"//tableid
										Param "-4920|18575"//Q点坐标
									}
								}
							}
						}
						Logic {//判定H点BOSS是否存活
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsLivedFromTab"
								Param "22"	//tableid
								Param "1"
							}
							Method {
								Class "Null"
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJCheckItemsLivedFromTab"
									Param "42"	//tableid
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {//加载H点NPC
										Class "JXJReliveItemsFromTab"
										Param "25"
									}
									Method {
										Class "JXJChangeItemPatrolPointVecFormScene"	//向Q点移动
										Param "25"//tableid
										Param "-4920|18575"//Q点坐标
									}
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 6	加载Q点第一波NPC
						Class "ProxyArray"
						Method {//加载第一波NPC
							Class "JXJReliveItemsFromTab"
							Param "9"
						}
						Method {
							Class "JXJServerAddScenarioTimer"	//服务器计时
							Param "10"//m_msg标识
							Param "180"//时间
							Param "10"//m_id
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 7	加载Q点第二波NPC
						Class "ProxyArray"
						Logic {
							Class "Switch"
							Method {
								Class "JXJRoomTriggerCountCase"
							}
							Logic {//case 0第一次触发
								Class "ProxyArray"
								Method {//加载第二波NPC
									Class "JXJReliveItemsFromTab"
									Param "10"
								}
								Method {
									Class "JXJServerAddScenarioTimer"	//服务器计时
									Param "11"//m_msg标识
									Param "180"//时间
									Param "11"//m_id
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 8	加载Q点第三波NPC
						Class "ProxyArray"
						Logic {
							Class "Switch"
							Method {
								Class "JXJRoomTriggerCountCase"
							}
							Logic {//case 0第一次触发
								Class "ProxyArray"
								Method {//加载Q点第三波NPC
									Class "JXJReliveItemsFromTab"
									Param "11"
								}
								Method {
									Class "JXJServerAddScenarioTimer"	//服务器计时
									Param "12"//m_msg标识
									Param "180"//时间
									Param "12"//m_id
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 9	加载Q点第四波NPC
						Class "ProxyArray"
						Logic {
							Class "Switch"
							Method {
								Class "JXJRoomTriggerCountCase"
							}
							Logic {//case 0第一次触发
								Class "ProxyArray"
								Method {//加载Q点第四波NPC
									Class "JXJReliveItemsFromTab"
									Param "12"
								}
								Method {
									Class "JXJServerAddScenarioTimer"	//服务器计时
									Param "13"//m_msg标识
									Param "180"//时间
									Param "13"//m_id
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 10	加载Q点第五波NPC
						Class "ProxyArray"
						Logic {
							Class "Switch"
							Method {
								Class "JXJRoomTriggerCountCase"
							}
							Logic {//case 0第一次触发
								Class "ProxyArray"
								Method {//加载Q点第五波NPC
									Class "JXJReliveItemsFromTab"
									Param "13"
								}
								Method {
									Class "JXJServerAddScenarioTimer"	//服务器计时
									Param "14"//m_msg标识
									Param "180"//时间
									Param "14"//m_id
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 11	加载Q点第六波NPC
						Class "ProxyArray"
						Logic {
							Class "Switch"
							Method {
								Class "JXJRoomTriggerCountCase"
							}
							Logic {//case 0第一次触发
								Class "ProxyArray"
								Method {//加载Q点第六波NPC
									Class "JXJReliveItemsFromTab"
									Param "14"
								}
								Method {
									Class "JXJServerAddScenarioTimer"	//服务器计时
									Param "15"//m_msg标识
									Param "180"//时间
									Param "15"//m_id
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 12	加载Q点第七波NPC
						Class "ProxyArray"
						Logic {
							Class "Switch"
							Method {
								Class "JXJRoomTriggerCountCase"
							}
							Logic {//case 0第一次触发
								Class "ProxyArray"
								Method {//加载Q点第七波NPC
									Class "JXJReliveItemsFromTab"
									Param "15"
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					Logic {//case 13	玩家城池时候的胜利判定
						Class "IF_ELSE"
						Method {
							Class "JXJCheckItemsDeadFromTab"
							Param "100"
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "3"
						}
					}
					xLogic {//case 14	D、E、G点受攻击
						Class "ProxyArray"
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJIsNpcChengchi"
							}
							Logic {
								Class "Switch"
								Method {
									Class "JXJRoomTriggerCountCase"
								}
								Logic {//case 0第一次触发
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"  //触发客户端事件
										Param "700"
									}
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					xLogic {//case 15	M、N、O点受攻击
						Class "ProxyArray"
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJIsNpcChengchi"
							}
							Logic {
								Class "Switch"
								Method {
									Class "JXJRoomTriggerCountCase"
								}
								Logic {//case 0第一次触发
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"  //触发客户端事件
										Param "710"
									}
								}
							}
						}
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "2"
						}
					}
					xLogic {//case 16	Q点辟邪受攻击
						Class "ProxyArray"
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJIsNpcChengchi"
							}
							Logic {
								Class "Switch"
								Method {
									Class "JXJRoomTriggerCountCase"
								}
								Logic {//case 0第一次触发
									Class "ProxyArray"
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "6"
									}
								}
							}
						}
					}
				}
			}
			Logic {//是否是NPC城池
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					xLogic {//判定第一波BOSS死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "6|7|8|9|10|11|12"
						}
						Logic {
							Class "IF_ELSE"
							Method {//判定第一波BOSS死亡
								Class "JXJCheckItemsDeadFromTab"
								Param "43"//table id
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "JXJServerRemoveScenarioTimer"  //移除计时器
										Param "10"//m_id
									}
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "7"
									}
								}
							}
						}
					}
					xLogic {//判定第二波BOSS死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "7|8|9|10|11|12"
						}
						Logic {
							Class "IF_ELSE"
							Method {//判定第二波BOSS死亡
								Class "JXJCheckItemsDeadFromTab"
								Param "44"//table id
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "JXJServerRemoveScenarioTimer"  //移除计时器
										Param "11"//m_id
									}
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "8"
									}
								}
							}
						}
					}
					xLogic {//判定第三波BOSS死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "8|9|10|11|12"
						}
						Logic {
							Class "IF_ELSE"
							Method {//判定第三波BOSS死亡
								Class "JXJCheckItemsDeadFromTab"
								Param "45"//table id
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "JXJServerRemoveScenarioTimer"  //移除计时器
										Param "12"//m_id
									}
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "9"
									}
								}
							}
						}
					}
					xLogic {//判定第四波BOSS死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "9|10|11|12"
						}
						Logic {
							Class "IF_ELSE"
							Method {//判定第四波BOSS死亡
								Class "JXJCheckItemsDeadFromTab"
								Param "46"//table id
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "JXJServerRemoveScenarioTimer"  //移除计时器
										Param "13"//m_id
									}
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "10"
									}
								}
							}
						}
					}
					xLogic {//判定第五波BOSS死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "10|11|12"
						}
						Logic {
							Class "IF_ELSE"
							Method {//判定第五波BOSS死亡
								Class "JXJCheckItemsDeadFromTab"
								Param "47"//table id
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "JXJServerRemoveScenarioTimer"  //移除计时器
										Param "14"//m_id
									}
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "11"
									}
								}
							}
						}
					}
					xLogic {//判定第六波BOSS死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "11|12"
						}
						Logic {
							Class "IF_ELSE"
							Method {//判定第六波BOSS死亡
								Class "JXJCheckItemsDeadFromTab"
								Param "48"//table id
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "JXJServerRemoveScenarioTimer"  //移除计时器
										Param "15"//m_id
									}
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "12"
									}
								}
							}
						}
					}
					xLogic {//判定第七波BOSS死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "12"
						}
						Logic {
							Class "IF_ELSE"
							Method {//判定第六波BOSS死亡
								Class "JXJCheckItemsDeadFromTab"
								Param "49"//table id
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "2"
									}
								}
							}
						}
					}
					Logic {//判断到E点的距离
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {//距离判断
								Class "JXJNPCCloseToPointFromTable"
								Param "26"//scenariotable表 ID
								Param "27"//scenariotable表 ID
								Param "10" //distance
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {//加载E点NPC
										Class "JXJReliveItemsFromTab"
										Param "29"
									}
									Method {
										Class "JXJChangeItemPatrolPointVecFormScene"	//向Q点移动
										Param "29"//tableid
										Param "-4920|18575"	//Q点坐标
									}
								}
							}
						}
					}
					Logic {//判断到G点的距离
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {//距离判断
								Class "JXJNPCCloseToPointFromTable"
								Param "25"//scenariotable表 ID
								Param "28"//scenariotable表 ID
								Param "10" //distance
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {//加载G点NPC
										Class "JXJReliveItemsFromTab"
										Param "30"
									}
									Method {
										Class "JXJChangeItemPatrolPointVecFormScene"	//向Q点移动
										Param "30"//tableid
										Param "-4920|18575"	//Q点坐标
									}
								}
							}
						}
					}
					Logic {//J、K、L点BOSS被干掉
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsDeadFromTab"
								Param "18"	//tableid
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"    //触发客户端事件
										Param "510"
									}
									Method {
										Class "JXJNpcGainExtraFromTable"  //给敌方加BUFF	攻击力降低50%
										Param "19"	//table id 
										Param "36"	//BUFF ID
									}
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "4"
									}
								}
							}
						}
					}
					Logic {//J、K、L点城门死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsDeadFromTab"
								Param "52"	//tableid
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"    //触发客户端事件
										Param "600"
									}
									Method {//加载S点NPC
										Class "JXJReliveItemsFromTab"
										Param "53"
									}
								}
							}
						}
					}
					Logic {//S点BOSS存在持续BUFF
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsDeadFromTab"
								Param "53"	//tableid
							}
							Logic {//case 2	没有事件
								Class "Proxy"
								Method {
									Class "Null"
								}
							}
							Logic {
								Class "ProxyArray"
								Logic {
									Class "Switch"
									Method {
										Class "JXJRoomTriggerCountCase"
									}
									Logic {//case 0第一次触发
										Class "ProxyArray"
										Method {
											Class "JXJPlayerGainExtra"  //给友方加BUFF	攻击力增加100%
											Param "35"	//BUFF ID
										}
										Method {
											Class "JXJServerAddScenarioTimer"	//服务器计时
											Param "60"//m_msg标识
											Param "60"//时间
											Param "60"//m_id
											Param "-1"//m_times
										}
									}
								}
							}
						}
					}
					Logic {//M、N、O点BOSS死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsDeadFromTab"
								Param "34"	//tableid
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"    //触发客户端事件
										Param "520"
									}
									Method {
										Class "JXJAlterNPCRTHPFromTable"  //敌方受到伤害
										Param "19"	//table id 
										Param "0.5"	//百分比
									}
									xMethod {
										Class "JXJAlterPlayerRTHP"  //受到伤害
										Param "0.5"	//百分比
									}
								}
							}
						}
					}
					Logic {//M、N、O点城门死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsDeadFromTab"
								Param "35"	//tableid
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"    //触发客户端事件
										Param "610"
									}
									Method {//加载P点NPC
										Class "JXJReliveItemsFromTab"
										Param "50"
									}
								}
							}
						}
					}
					Logic {//P点复活旗存在持续BUFF
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsDeadFromTab"
								Param "50"	//tableid
							}
							Logic {//case 2	没有事件
								Class "Proxy"
								Method {
									Class "Null"
								}
							}
							Logic {
								Class "ProxyArray"
								Logic {
									Class "Switch"
									Method {
										Class "JXJRoomTriggerCountCase"
									}
									Logic {//case 0第一次触发
										Class "ProxyArray"
										Method {
											Class "JXJNpcGainExtraFromTable"  //给敌方加BUFF	攻击力降低50%
											Param "54"	//table id 
											Param "36"	//BUFF ID
										}
										Method {
											Class "JXJServerAddScenarioTimer"	//服务器计时
											Param "61"//m_msg标识
											Param "60"//时间
											Param "61"//m_id
											Param "-1"//m_times
										}
									}
								}
							}
						}
					}
					Logic {//辟邪全部死亡
						Class "IF_ELSE"
						Method {
							Class "JXJRoomProgressIsBelowVal"
							Param "2|3|4|5|6|7|8|9|10|11|12|13"
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJCheckItemsDeadFromTab"
								Param "100"	//tableid
							}
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"    //触发客户端事件
										Param "530"
									}
									Method {
										Class "JXJPauseRoom"	//游戏暂停
										Param "300"//时间
									}
								}
							}
						}
					}
				}
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+234"//WCH_RoomEnd
		MsgParam "NULL"
		Driver {
			Class "MoreSlot"
			Method {
				Class "JXJBattleSettle"
				Param "3"//战场胜利进度
			}
			Method {
				Class "SetRoomAutoStart"
				Param "0"//autostart
				Param "0"//autoStartTime
				Param "-1"//removetime
			}
		}
    }
/////////////////////////进入场景显示初始剧情///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "1"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152000"//talkid  对应的表“scenariotalk.tab”
				Param "0"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	Handle {//服务器计时器事件
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "1"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "ScenarioEvent"  //触发客户端事件
				Param "200"
			}
		}
    }
	Handle {//计时事件触发的客户端事件
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "200"
		Driver {
			Class "MoreSlot"
			Method {//提示
				Class "JXJScenarioTalk"
				Param "152001"//talkid
				Param "0"//endmsg
				Param "UI_CopyBattle_JuqingShow"//窗口名
				Param "JuqingShow_Input"//超文本输入框名
				Param ""//图片控件名
				Param ""//人物名称控件名
				Param "3"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	Handle {//服务器计时器事件
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "2"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "ScenarioEvent"  //触发客户端事件
				Param "210"
			}
		}
    }
	Handle {//计时事件触发的客户端事件
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "210"
		Driver {
			Class "MoreSlot"
			Method {//小地图显示
				Class "JXJPlayMiniMapSignal"
				Param "UI_CopyBattle_MinMap"
				Param "UI_CopyBattle_Minimap"
				Param "UI_CopyBattle_Juqing_Di"//敌方
				Param "RotMap"
				Param "-6037|18173|-4186|19469|-6008|16989|-3060|19038"	//辟邪
				Param "6"
			}
			Method {//小地图显示特殊标识
				Class "JXJPlayMiniMapSignal"
				Param "UI_CopyBattle_MinMap"
				Param "UI_CopyBattle_Minimap"
				Param "UI_CopyBattle_BossIcon_Big"//目标地址
				Param "RotMap"
				Param "8892|-1785|-8901|-104|15951|17223"	//J、K、L点
				Param "3600"
				Param "JKL"	//name
			}
		}
    }
////////////////////////I点BOSS死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302060"	//李典
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "ScenarioEvent"    //触发客户端事件
						Param "500"
					}
					Method {
						Class "JXJPlayerGainExtra"  //给友方加BUFF	防御力增加100%
						Param "37"	//BUFF ID
					}
				}
			}
		}
	}
////////////////////////J点城门被击破////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302962"	//J点城门
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {//加载S点NPC
						Class "JXJReliveItemsFromTab"
						Param "3"
					}
				}
			}
		}
	}
////////////////////////K点城门被击破////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302961"	//K点城门
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {//加载R点NPC
						Class "JXJReliveItemsFromTab"
						Param "51"
					}
				}
			}
		}
	}
////////////////////////L点城门被击破////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302963"	///L点城门
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {//加载T点NPC
						Class "JXJReliveItemsFromTab"
						Param "4"
					}
				}
			}
		}
	}
////////////////////////&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	xHandle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302190"	///吕布
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {//加载T点NPC
						Class "RoomSetRoomProgress"  //服务器跳转到进度**
						Param "3"
					}
				}
			}
		}
	}
////////////////////////左上角辟邪死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302957"	///左上角辟邪
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {//加载Q点NPC
						Class "JXJReliveItemsFromTab"
						Param "7"
					}
					Method {
						Class "RoomSetRoomProgress"  //服务器跳转到进度**
						Param "5"
					}
				}
			}
		}
	}
////////////////////////右上角辟邪死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302958"	///右上角辟邪
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {//加载Q点NPC
						Class "JXJReliveItemsFromTab"
						Param "8"
					}
				}
			}
		}
	}
////////////////////////左下角辟邪死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302959"	///左下角辟邪
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {//加载Q点NPC
						Class "JXJReliveItemsFromTab"
						Param "5"
					}
				}
			}
		}
	}
////////////////////////右下角辟邪死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302960"	///右下角辟邪
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {//加载Q点NPC
						Class "JXJReliveItemsFromTab"
						Param "6"
					}
				}
			}
		}
	}
////////////////////////Q点第一波BOSS死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302230"	///第一波BOSS
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJServerRemoveScenarioTimer"  //移除计时器
						Param "10"//m_id
					}
					Method {
						Class "RoomSetRoomProgress"  //服务器跳转到进度**
						Param "7"
					}
				}
			}
		}
	}
////////////////////////Q点第二波BOSS死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302250"	///第二波BOSS
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJServerRemoveScenarioTimer"  //移除计时器
						Param "11"//m_id
					}
					Method {
						Class "RoomSetRoomProgress"  //服务器跳转到进度**
						Param "8"
					}
				}
			}
		}
	}
////////////////////////Q点第三波BOSS死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302270"	///第三波BOSS
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJServerRemoveScenarioTimer"  //移除计时器
						Param "12"//m_id
					}
					Method {
						Class "RoomSetRoomProgress"  //服务器跳转到进度**
						Param "9"
					}
				}
			}
		}
	}
////////////////////////Q点第四波BOSS死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302290"	///第四波BOSS
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJServerRemoveScenarioTimer"  //移除计时器
						Param "13"//m_id
					}
					Method {
						Class "RoomSetRoomProgress"  //服务器跳转到进度**
						Param "10"
					}
				}
			}
		}
	}
////////////////////////Q点第五波BOSS死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302310"	///第五波BOSS
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJServerRemoveScenarioTimer"  //移除计时器
						Param "14"//m_id
					}
					Method {
						Class "RoomSetRoomProgress"  //服务器跳转到进度**
						Param "11"
					}
				}
			}
		}
	}
////////////////////////Q点第六波BOSS死亡////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302330"	///第六波BOSS
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJServerRemoveScenarioTimer"  //移除计时器
						Param "15"//m_id
					}
					Method {
						Class "RoomSetRoomProgress"  //服务器跳转到进度**
						Param "12"
					}
				}
			}
		}
	}
	xHandle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "NULL"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					//I点BOSS死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "16"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {
									Class "ScenarioEvent"    //触发客户端事件
									Param "500"
								}
								Method {
									Class "JXJPlayerGainExtra"  //给友方加BUFF	攻击力增加100%
									Param "35"	//BUFF ID
								}
							}
						}
					}
					//J、K、L点BOSS死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "18"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "2"
							}
							Method {
								Class "Null"
							}
							Logic {
								Class "ProxyArray"
								Method {
									Class "ScenarioEvent"    //触发客户端事件
									Param "510"
								}
								Method {
									Class "JXJNpcGainExtraFromTable"  //给敌方加BUFF	攻击力降低50%
									Param "19"	//table id 
									Param "36"	//BUFF ID
								}
								Method {
									Class "RoomSetRoomProgress"  //服务器跳转到进度**
									Param "4"
								}
							}
						}
					}
					//J点城门被击破///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "31"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {//加载S点NPC
									Class "JXJReliveItemsFromTab"
									Param "3"
								}
							}
						}
					}
					//K点城门被击破///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "32"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {//加载R点NPC
									Class "JXJReliveItemsFromTab"
									Param "51"
								}
							}
						}
					}
					//L点城门被击破///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "33"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {//加载T点NPC
									Class "JXJReliveItemsFromTab"
									Param "4"
								}
							}
						}
					}
					//M、N、O点BOSS死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "34"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "2"
							}
							Method {
								Class "Null"
							}
							Logic {
								Class "ProxyArray"
								Method {
									Class "ScenarioEvent"    //触发客户端事件
									Param "520"
								}
								Method {
									Class "JXJAlterNPCRTHPFromTable"  //敌方受到伤害
									Param "19"	//table id 
									Param "0.5"	//百分比
								}
							}
						}
					}
					//M、N、O点城门死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "35"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "2"
							}
							Method {
								Class "Null"
							}
							Logic {
								Class "ProxyArray"
								Method {//加载P点NPC
									Class "JXJReliveItemsFromTab"
									Param "50"
								}
							}
						}
					}
					//左上角辟邪死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "36"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {//加载P点NPC
									Class "JXJReliveItemsFromTab"
									Param "7"
								}
								Method {
									Class "RoomSetRoomProgress"  //服务器跳转到进度**
									Param "5"
								}
							}
						}
					}
					//右上角辟邪死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "37"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {//加载P点NPC
									Class "JXJReliveItemsFromTab"
									Param "8"
								}
							}
						}
					}
					//左下角辟邪死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "38"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {//加载P点NPC
									Class "JXJReliveItemsFromTab"
									Param "5"
								}
							}
						}
					}
					//右下角辟邪死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "39"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "1"
							}
							Logic {
								Class "ProxyArray"
								Method {//加载P点NPC
									Class "JXJReliveItemsFromTab"
									Param "6"
								}
							}
						}
					}
					//辟邪全部死亡///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "100"	//tableid
						}
						Logic {
							Class "IF_ELSE"
							Method {
								Class "JXJRoomTriggerCount" //判断触发次数
								Param "3"
							}
							Method {
								Class "Null"
							}
							Logic {
								Class "ProxyArray"
								Method {
									Class "ScenarioEvent"    //触发客户端事件
									Param "530"
								}
							}
						}
					}
				}
			}
		}
    }
	//I点BOSS死亡触发事件///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "500"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152002"//talkid  对应的表“scenariotalk.tab”
				Param "0"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	//J、K、L点BOSS死亡触发事件///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "510"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152004"//talkid  对应的表“scenariotalk.tab”
				Param "510"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+20820"//WCH_JXJEndTalk
		MsgParam "510"//endmsg
		Driver {
			Class "MoreSlot"
			Method {//小地图显示消失
				Class "JXJStopMiniMapSignal"
				Param "JKL"	//name
			}
			Method {//小地图显示
				Class "JXJPlayMiniMapSignal"
				Param "UI_CopyBattle_MinMap"
				Param "UI_CopyBattle_Minimap"
				Param "UI_CopyBattle_Juqing_Di"//敌方
				Param "RotMap"
				Param "141|11263|2020|18990|-7729|12187"	//M、N、O点
				Param "3600"
				Param "MNO点"	//name
			}
		}
    }
	//M、N、O点BOSS死亡触发事件///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "520"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152006"//talkid  对应的表“scenariotalk.tab”
				Param "520"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+20820"//WCH_JXJEndTalk
		MsgParam "520"//endmsg
		Driver {
			Class "MoreSlot"
			Method {//小地图显示消失
				Class "JXJStopMiniMapSignal"
				Param "MNO"	//name
			}
			Method {//小地图显示
				Class "JXJPlayMiniMapSignal"
				Param "UI_CopyBattle_MinMap"
				Param "UI_CopyBattle_Minimap"
				Param "UI_CopyBattle_Juqing_Di"//敌方
				Param "RotMap"
				Param "-4920|18575"	//Q点
				Param "3600"
				Param "Q点"	//name
			}
		}
    }
	//辟邪全部死亡触发事件///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "530"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152007"//talkid  对应的表“scenariotalk.tab”
				Param "530"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+20820"//WCH_JXJEndTalk
		MsgParam "530"//endmsg
		Driver {
			Class "MoreSlot"
			Method {
				Class "JXJClientPauseRoom"  //取消暂停
				Param "0"//时间
			}
			Method {
				Class "TriggerSetRoomProgress"  //跳转到进度**
				Param "3"
			}
		}
    }
////////////////////////NPC受伤害触发事件/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//D、E、G点受攻击////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302010"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302011"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302012"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302013"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302014"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302020"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302021"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302022"
		Driver {
			Class "MoreSlot"
			Method {
				Class "JXJRoomDoEvent"  //触发客户端时间
				Param "1"
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302023"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302024"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302040"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302041"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302042"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302043"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302044"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "1"
				}
			}
		}
	}
	//M、N、O点受攻击/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302100"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302101"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302102"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302110"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302111"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302112"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302120"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302121"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302122"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302130"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302131"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302132"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302133"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302134"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302135"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302136"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302137"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302138"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "2"
				}
			}
		}
	}
	//Q点辟邪受攻击/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302957"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "3"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302958"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "3"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302959"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "3"
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "302960"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "ProxyArray"
				Method {
					Class "JXJRoomDoEvent"  //触发客户端时间
					Param "3"
				}
			}
		}
	}
	xHandle {
		MsgParam "WCH_USER+331"//WCH_RoomItemDamage
		MsgParam "NULL"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "ProxyArray"
					//D、E、G点受攻击/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "17"	//tableid
						}
						Logic {
							Class "ProxyArray"
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"  //触发客户端事件
										Param "700"
									}
								}
							}
						}
					}
					//M、N、O点受攻击/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "19"	//tableid
						}
						Logic {
							Class "ProxyArray"
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "ScenarioEvent"  //触发客户端事件
										Param "710"
									}
								}
							}
						}
					}
					//Q点辟邪受攻击/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					Logic {
						Class "IF_ELSE"
						Method {
							Class "JXJCheckHitItemFromTab"  //被伤害的NPC
							Param "100"	//tableid
						}
						Logic {
							Class "ProxyArray"
							Logic {
								Class "IF_ELSE"
								Method {
									Class "JXJRoomTriggerCount" //判断触发次数
									Param "1"
								}
								Logic {
									Class "ProxyArray"
									Method {
										Class "RoomSetRoomProgress"  //服务器跳转到进度**
										Param "6"
									}
								}
							}
						}
					}
				}
			}
		}
	}
	//D、F、G点受攻击触发事件///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {//服务器触发事件	
		MsgParam "WCH_USER+20145"//WCH_JXJRoomDoEvent
		MsgParam "1"//m_msg标识
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "Switch"
					Method {
						Class "JXJRoomTriggerCountCase"
					}
					Logic {//case 0第一次触发
						Class "ProxyArray"
						Method {
							Class "ScenarioEvent"  //触发客户端事件
							Param "700"
						}
					}
				}
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "700"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152003"//talkid  对应的表“scenariotalk.tab”
				Param "700"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+20820"//WCH_JXJEndTalk
		MsgParam "700"//endmsg
		Driver {
			Class "MoreSlot"
			Method {//小地图显示
				Class "JXJPlayMiniMapSignal"
				Param "UI_CopyBattle_MinMap"
				Param "UI_CopyBattle_Minimap"
				Param "UI_CopyBattle_Juqing_Di"//敌方
				Param "RotMap"
				Param "8892|-1785|-8901|-104|15951|17223"	//J、K、L点
				Param "6"
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "600"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152008"//talkid  对应的表“scenariotalk.tab”
				Param "700"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "610"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152009"//talkid  对应的表“scenariotalk.tab”
				Param "700"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	//M、N、O点受攻击触发事件///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {//服务器触发事件	
		MsgParam "WCH_USER+20145"//WCH_JXJRoomDoEvent
		MsgParam "2"//m_msg标识
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "Switch"
					Method {
						Class "JXJRoomTriggerCountCase"
					}
					Logic {//case 0第一次触发
						Class "ProxyArray"
						Method {
							Class "ScenarioEvent"  //触发客户端事件
							Param "710"
						}
					}
				}
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+332"//WCH_RecvScenarioEvent
		MsgParam "710"
		Driver {
			Class "MoreSlot"
			Method {//显示对话
				Class "JXJScenarioTalk"
				Param "152005"//talkid  对应的表“scenariotalk.tab”
				Param "710"//endmsg
				Param "UI_CopyBattle_Juqing"//窗口名
				Param "Juqing_Input"//超文本输入框名
				Param "Juqing_Touxiang"//图片控件名
				Param "Juqing_Name"//人物名称控件名
				Param "2"//N秒后关闭该窗口（填0表示不自动关闭）
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+20820"//WCH_JXJEndTalk
		MsgParam "710"//endmsg
		Driver {
			Class "MoreSlot"
			Method {//小地图显示
				Class "JXJPlayMiniMapSignal"
				Param "UI_CopyBattle_MinMap"
				Param "UI_CopyBattle_Minimap"
				Param "UI_CopyBattle_Juqing_Di"//敌方
				Param "RotMap"
				Param "141|11263|2020|18990|-7729|12187"	//M、N、O点
				Param "6"
			}
		}
    }
/////////////Q点辟邪受到攻击/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {//服务器触发事件	
		MsgParam "WCH_USER+20145"//WCH_JXJRoomDoEvent
		MsgParam "3"//m_msg标识
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJIsNpcChengchi"
				}
				Logic {
					Class "Switch"
					Method {
						Class "JXJRoomTriggerCountCase"
					}
					Logic {//case 0第一次触发
						Class "ProxyArray"
						Method {
							Class "RoomSetRoomProgress"  //服务器跳转到进度**
							Param "6"
						}
					}
				}
			}
		}
    }
///////////计时器事件/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	Handle {//服务器计时器事件	Q点第一波
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "10"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "RoomSetRoomProgress"  //服务器跳转到进度**
				Param "7"
			}
		}
    }
	Handle {//服务器计时器事件	Q点第二波
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "11"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "RoomSetRoomProgress"  //服务器跳转到进度**
				Param "8"
			}
		}
    }
	Handle {//服务器计时器事件	Q点第三波
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "12"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "RoomSetRoomProgress"  //服务器跳转到进度**
				Param "9"
			}
		}
    }
	Handle {//服务器计时器事件	Q点第四波
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "13"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "RoomSetRoomProgress"  //服务器跳转到进度**
				Param "10"
			}
		}
    }
	Handle {//服务器计时器事件	Q点第五波
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "14"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "RoomSetRoomProgress"  //服务器跳转到进度**
				Param "11"
			}
		}
    }
	Handle {//服务器计时器事件	Q点第六波
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "15"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "RoomSetRoomProgress"  //服务器跳转到进度**
				Param "12"
			}
		}
    }
	Handle {//服务器计时器事件	Q点第六波
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "60"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "JXJPlayerGainExtra"  //给友方加BUFF	攻击力增加100%
				Param "35"	//BUFF ID
			}
		}
    }
	Handle {//服务器计时器事件	Q点第六波
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "61"//m_msg标识
		Driver {
			Class "MoreSlot"
			Method {
				Class "JXJNpcGainExtraFromTable"  //给敌方加BUFF	攻击力降低50%
				Param "54"	//table id 
				Param "36"	//BUFF ID
			}
		}
    }
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302950"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJRoomTriggerCount" //判断触发次数
					Param "1"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJPlayerGainExtra"  //给友方加BUFF	攻击力减少50%
						Param "243"	//BUFF ID
					}
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302951"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJRoomTriggerCount" //判断触发次数
					Param "1"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJPlayerGainExtra"  //给友方加BUFF	攻击力减少50%
						Param "214"	//BUFF ID
					}
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+329"//WCH_RoomItemDead
		MsgParam "302952"
		Driver {
			Class "MoreSlot"
			Logic {
				Class "IF_ELSE"
				Method {
					Class "JXJRoomTriggerCount" //判断触发次数
					Param "1"
				}
				Logic {
					Class "ProxyArray"
					Method {
						Class "JXJPlayerGainExtra"  //给友方加BUFF	攻击力减少50%
						Param "223"	//BUFF ID
					}
				}
			}
		}
	}
	Handle {
		MsgParam "WCH_USER+20141"//WCH_JXJScenarioTimerEvent
		MsgParam "101"//m_msg标识
		Driver {
			Class "MoreSlot"			
			Logic {
				Class "IF_ELSE"
				Method {//判断NPC死亡
					Class "JXJCheckItemsDeadFromTab"
					Param "101"//m_msg标识
				}
				Method {//刷新第一波第三批
					Class "JXJReliveItemsFromTab"
					Param "101"
				}
			}
		}
    }
}
